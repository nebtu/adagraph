% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/cer_adapt.R
\name{cer_adapt}
\alias{cer_adapt}
\title{Adapt the trial design after the interim test}
\usage{
cer_adapt(
  design,
  weights = NULL,
  test_m = NULL,
  time = NULL,
  correlation = NULL,
  adapt_bounds = TRUE
)
}
\arguments{
\item{design}{A cer_design object}

\item{weights}{New weights vector
Note that the lenght should be the same as in the prespecified design
For dropping hypotheses, set the according weights to 0 or use \code{\link[=cer_drop_hypotheses]{cer_drop_hypotheses()}}}

\item{test_m}{Adapted test matrix defining the graph for the closed test procedure to test the hypotheses}

\item{time}{adapted information fraction at which the first stage test occured.
Note that this can now be a vector with a different value for different hypotheses or a single value}

\item{correlation}{adapted correlation matrix}

\item{adapt_bounds}{Adapt the bounds for rejecting a hypotheses to keep the
FWER with the new adaptions}
}
\value{
An object of class cer_design, with the adaptions applied.
}
\description{
Adapt the trial design after the interim test
}
\details{
For all adaptions, adapt_bounds needs to be used only once, with or after the
last adaption. For this, either make sure that adapt_bounds is TRUE, or use
the \code{adapt_bounds()} function manually
}
\examples{
as <- function(x,t) 2-2*pnorm(qnorm(1-x/2)/sqrt(t))
design <- cer_design(
 correlation=rbind(H1=c(1, NA),
                   H2=c(NA, 1)),
 weights=c(2/3, 1/3),
 alpha=0.05,
 test_m=rbind(c(0, 1),
              c(1, 0)),
 alpha_spending_f=as,
 t=0.5)

#note that it is not necessary to do an interim test before,
#but that an interim test will only be done with the prespecified parameters
design <- cer_interim_test(design, c(0.1, 0.02))

design <- cer_adapt(design, weights = c(1/3, 2/3))
design
}
